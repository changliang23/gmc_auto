*** Settings ***
Suite Setup       Open Login page
Suite Teardown    Close
Library           Selenium2Library
Resource          ../../Pages/Roles/roles_page.txt
Resource          ../../Pages/Roles/addRoleMembers/addRoleMembers_page.txt
Resource          ../../Flows/Login/login-logoff.txt
Resource          ../../Flows/Roles/role_general.txt
Resource          ../../Pages/Roles/editRights/editRights_page.txt
Resource          ../../Flows/Roles/edit_rights.txt
Resource          ../../Flows/Handhelds/hh_general.txt
Resource          ../../Flows/Policies/policy_general.txt
Resource          ../../Pages/Policies/policies_page.txt
Resource          ../../Flows/Servers/servers_general.txt
Resource          ../../Pages/Handhelds/handheldsDetails/handheldsdetails_page.txt
Library           ../src/entrypoint.py
Resource          ../../Flows/Settings/settings_general.txt
Resource          ../../Pages/Settings/otaSettings/otasettings_page.txt
Resource          ../../Pages/Roles/SelfServiceRights/sseditrights_page.txt

*** Test Cases ***
16311 User with manage custom handheld policies, software right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Manage policy
    Sign Out
    Role member login
    Page should not contain element    xpath=${roles_tab}
    Go to Handhelds tab
    Element should be disabled    ${Add_Handhelds1}
    Go to Policies tab
    Element should be enabled    ${Create_button}
    Sign Out
    set selenium timeout    1
    [Teardown]    Clean up roles

16312 User with erase handheld data right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Wipe GFE
    Go to Handhelds tab
    Add a HH
    Sign Out
    Role member login
    Page should not contain element    xpath=${roles_tab}
    Go to Handhelds tab
    Select the HH
    Go to Security
    Go to Handhelds tab
    Element should be disabled    ${Add_Handhelds1}
    Sign Out
    set selenium timeout    1
    Login
    Go to Handhelds tab
    Delete the HH
    Sign Out
    [Teardown]    Clean up roles

16313 User has the right to view OTA setup PINs.
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select View OTA
    Go to Handhelds tab
    Add a HH
    Sign Out
    Role member login
    Page should not contain element    xpath=${roles_tab}
    Go to Handhelds tab
    Select the HH
    Go to OTA
    Page should not contain    <unauthorized to view>
    Go to Handhelds tab
    Element should be disabled    ${Add_Handhelds1}
    Sign Out
    set selenium timeout    1
    Login
    Go to Handhelds tab
    Delete the HH
    Sign Out
    [Teardown]    Clean up roles

16314 User with manage servers right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Manage Servers
    Sign Out
    Role member login
    Page should not contain element    xpath=${roles_tab}
    Go to Servers tab
    Element should be enabled    ${Refresh_List_button1}
    Element should be enabled    ${Export_List_button1}
    Go to Handhelds tab
    Element should be disabled    ${Add_Handhelds1}
    Sign Out
    set selenium timeout    1
    [Teardown]    Clean up roles

16316 User with manage Roles right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Manage roles
    Sign Out
    Role member login
    Go to Roles tab
    Page should contain element    ${Add_role_button}
    Page should contain element    ${Delete_role_button}
    Go to Handhelds tab
    Element should be disabled    ${Add_Handhelds1}
    Sign Out
    set selenium timeout    1
    [Teardown]    Clean up roles

16317 User with manage OTA Email templates right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Manage email temp
    Sign Out
    Role member login
    Page should not contain element    xpath=${roles_tab}
    Go to Settings tab
    Go to Messaging Templates
    Page should contain element    xpath=${Copy DAPRE}
    Sign Out
    set selenium timeout    1
    [Teardown]    Clean up roles

16318 User with Add and remove custom software right
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Add Role Member
    Change rights
    Select Custom
    Select Manage email temp
    Sign Out
    Role member login
    [Teardown]    Clean up roles

16319 Verify Tab functionality on Roles tab
    [Tags]    Roles
    [Setup]    Login->Roles
    [Teardown]    Clean up roles

16320 Verify Tab functionality on Add Role Members tab
    [Tags]    Roles
    [Setup]    Login->Roles
    [Teardown]    Clean up roles

16321 View only rights - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select All Right
    Change rights
    Select view-only
    Cancel rights
    Change rights
    Radio Button Should Be Set To    type    all
    Cancel Rights
    Sign Out
    [Teardown]    Clean up roles

16322 All rights - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select All Rights
    Cancel rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Cancel Rights
    Sign Out
    [Teardown]    Clean up roles

16323 Custom radio button - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Add HH
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Add_handheld}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16324 Delete Handheld option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Delete HH
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Delete_handheld}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16325 Add Handheld option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Add HH
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Add_handheld}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16326 Add more than one Handheld option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Add additional HH
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Add_additional_handheld}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16327 Manage custom policies and software option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Manage policy
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Manage_policy}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16328 Erase handheld data - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Wipe GFE
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Wipe_GFE}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16329 View OTA setup PINs option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable View OTA
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${View_OTA}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16330 Manage Servers option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Manage servers
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Manage_servers}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16332 Manage Roles option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Manage roles
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Manage_roles}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16333 Manage OTA Email templates option - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Manage email temp
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Manage_email_temp}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16334 Add/remove custom software - Cancel button
    [Tags]    Roles
    [Setup]    Login->Roles
    Add Custom Role
    set selenium timeout    2
    Select Custom Role
    Change rights
    Select view-only right
    Change rights
    Select Custom
    Enable Manage software
    Cancel Rights
    Change rights
    Radio Button Should Be Set To    type    viewOnly
    Checkbox Should Not Be Selected    ${Manage_software}
    Cancel rights
    Sign Out
    [Teardown]    Clean up roles

16335 Add a role to the GMC console - double byte

16336 Missing right - Add Handheld

16337 Missing right - Add Additional handheld

16338 Missing right - Delete handheld

16339 Missing right - View OTA Setup PIN

16340 Missing right - Erase handheld data and lock handheld

16342 Missing right - Manage Roles

16343 Missing right - Manage Custom Software

16344 Missing right - Manage OTA Email templates

16345 Add Handheld right - operations

16346 Add Additional handhelds right - operations

16347 Delete handheld right - operations

16348 Manage handheld policy and software right - operations

16349 View OTA Setup PIN - Operations

16350 Erase handheld data and lock handheld right - Operations

16352 Manage Servers - Operations

16353 Users in a group added to a Role

12744 Add a role to the EMF console
    [Setup]    Login->Roles
    Add custom role
    Page should contain    ${Custom_role_name}
    Sign out
    [Teardown]    Clean up Roles

12745 Delete: role from console
    [Setup]    Login->Roles
    Add custom role
    Page should contain    @{Roles Rights}[0]
    Sign out
    Login
    Go to Roles tab
    select custom role
    Delete Custom Role
    Sign out
    [Teardown]

12746 Verify user information and his rights
    [Setup]    Login->Roles
    Add custom role
    Page should contain    @{Roles Rights}[0]
    Sign out
    Login
    Go to Roles tab
    Select Custom Role
    Add Role Member
    Click Link    ${search_user}
    Radio button should be set to    type    viewOnly
    sleep    1
    Sign out
    [Teardown]    Clean up roles

12747 Self Service User Modifies the URL to be in an Admin role
    [Setup]    Login->Roles
    Click Link    ${Self_Service_link}
    Add Role Member
    Sign out
    Login with SS user
    Page should contain    @{Roles Rights}[1]
    Go to    ${GMC_URL}/handhelds.do
    sleep    1
    SS user go to browsers/handhelds
    SS user go to browsers/policies
    Login with SS user
    SS user go to browsers/policy details
    SS user go to browsers/servers
    Login with SS user
    SS user go to browsers/roles
    Login with SS user
    SS user go to browsers/settings
    [Teardown]    Delete SS Member

1675_1 Search for handhelds - "Look For:" field validation

1676 Add User(s) or Group(s): to an existing role
    Login
    Open Roles tab
    Go to Service Administrator
    Add members
    sleep    2
    Select Domain
    Look For
    Look Now
    Add All
    Add member
    Sign Out
    Role member login
    Sign Out

1677 Delete user(s) or group(s) from a role
    Login GMC
    Open Roles tab
    Go to Service Administrator

1678 Edit role: Change Name Role and Description

1679 Modify rights: for an exisiting user

1680 Verify functionality of Service Adminstrator role

1681 Verify functionality of Adminstrator role

1682 Verify functionality of Helpdesk role

test
    Login
    Go to Handhelds tab
    Add a HH
    Select the HH
    Delete the HH
